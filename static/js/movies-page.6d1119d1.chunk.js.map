{"version":3,"sources":["services/movies-api.js","pages/HomePage/homePage.module.css","components/Searchbar/searchbar.module.css","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Searchbar/Searchbar.js","pages/MoviesPage.js"],"names":["API_KEY","fetchTrendingMovies","axios","get","then","data","results","fetchMoviesByQuery","query","fetchMovies","movieId","fetchAboutActors","fetchReviews","module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","onSubmit","useState","setQuery","e","preventDefault","className","styles","searchForm","inputForm","type","autoComplete","autoFocus","placeholder","onChange","queryValue","currentTarget","toLowerCase","trim","buttonForm","MoviesPage","history","useHistory","location","useLocation","url","useRouteMatch","queryMovies","URLSearchParams","search","moviesByQuery","setMoviesByQuery","error","setError","useEffect","container","cardSet","map","movie","item","card","to","pathname","id","state","from","cardThumb","img","src","poster_path","alt","title","cardHeading"],"mappings":"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","file":"static/js/movies-page.6d1119d1.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '26f0b87a7e5dd8e602a6eac9520f212b';\n\nconst fetchTrendingMovies = () => {\n  return axios\n    .get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`)\n    .then(({ data }) => data.results);\n};\n\nconst fetchMoviesByQuery = query => {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}&page=1`,\n    )\n    .then(({ data }) => data.results);\n};\n\nconst fetchMovies = movieId => {\n  return axios\n    .get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`)\n    .then(({ data }) => data);\n};\n\nconst fetchAboutActors = movieId => {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`,\n    )\n    .then(({ data }) => data);\n};\n\nconst fetchReviews = movieId => {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}&page=1`,\n    )\n    .then(({ data }) => data);\n};\n\nexport {\n  fetchTrendingMovies,\n  fetchMoviesByQuery,\n  fetchMovies,\n  fetchAboutActors,\n  fetchReviews,\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"homePage_img__akEKF\",\"title\":\"homePage_title__3sjK0\",\"container\":\"homePage_container__3CN4e\",\"cardSet\":\"homePage_cardSet__3T8nL\",\"item\":\"homePage_item__2thaF\",\"cardHeading\":\"homePage_cardHeading__1RYM3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"searchbar_searchForm__gX3R_\",\"inputForm\":\"searchbar_inputForm__zffya\",\"buttonForm\":\"searchbar_buttonForm__l7Uld\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { useState } from 'react';\nimport styles from '../Searchbar/searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleChange = e => {\n    const queryValue = e.currentTarget.value.toLowerCase().trim();\n    setQuery(queryValue);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    onSubmit(query);\n\n    setQuery('');\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={styles.searchForm}>\n        <input\n          className={styles.inputForm}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          value={query}\n          onChange={handleChange}\n        />\n        <button type=\"submit\" className={styles.buttonForm}>\n          <span>Search</span>\n        </button>\n      </form>\n    </>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { Link, useRouteMatch } from 'react-router-dom';\nimport { useHistory, useLocation } from 'react-router';\nimport { fetchMoviesByQuery } from '../services/movies-api';\nimport Searchbar from '../components/Searchbar/Searchbar';\n\nimport styles from './HomePage/homePage.module.css';\n\nexport default function MoviesPage() {\n  const history = useHistory();\n  const location = useLocation();\n  const { url } = useRouteMatch();\n  const queryMovies = new URLSearchParams(location.search).get('queryBy');\n  const [query, setQuery] = useState(queryMovies || '');\n  const [moviesByQuery, setMoviesByQuery] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    fetchMoviesByQuery(query).then(setMoviesByQuery);\n  }, [query]);\n\n  const onChangeQuery = query => {\n    setQuery(query);\n    history.push({\n      ...location,\n      search: `queryBy=${query}`,\n    });\n    setMoviesByQuery(null);\n    setError(null);\n  };\n\n  return (\n    <>\n      <Searchbar onSubmit={onChangeQuery} />\n\n      {error && <p>Sorry! Somethimg went wrong. Try again, please!</p>}\n      <div className={styles.container}>\n        <ul className={styles.cardSet}>\n          {moviesByQuery &&\n            moviesByQuery.map(movie => (\n              <li key={movie.id} className={styles.item}>\n                <article className={styles.card}>\n                  <Link\n                    to={{\n                      pathname: `${url}/${movie.id}`,\n                      state: { from: location },\n                    }}\n                  >\n                    <div className={styles.cardThumb}>\n                      <img\n                        className={styles.img}\n                        src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n                        alt={movie.title}\n                      />\n                    </div>\n                    <h2 className={styles.cardHeading}>{movie.title}</h2>\n                  </Link>\n                </article>\n              </li>\n            ))}\n        </ul>\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}